<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AgeSignals.MainPage"
             BackgroundColor="{DynamicResource PageBackgroundColor}">

    <ScrollView>
        <VerticalStackLayout
            Padding="30,0"
            Spacing="25">

            <Label
                Text="Age Signal Sample"
                FontSize="32"
                FontAttributes="Bold"
                HorizontalOptions="Center"
                Margin="0,40,0,0" />

            <Label
                Text="Demonstrates platform age verification APIs"
                FontSize="14"
                HorizontalOptions="Center"
                TextColor="{DynamicResource Gray600}" />

            <Border
                Stroke="{DynamicResource Primary}"
                StrokeThickness="2"
                Padding="20"
                Margin="0,20,0,0"
                BackgroundColor="{DynamicResource CardBackground}">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="10" />
                </Border.StrokeShape>
                
                <VerticalStackLayout Spacing="10">
                    <Label
                        Text="Platform Information"
                        FontSize="18"
                        FontAttributes="Bold" />
                    
                    <Label
                        x:Name="PlatformLabel"
                        Text="Platform: Loading..."
                        FontSize="14" />
                    
                    <Label
                        x:Name="SupportedLabel"
                        Text="Supported: Loading..."
                        FontSize="14" />
                </VerticalStackLayout>
            </Border>

            <Button
                x:Name="CheckAgeButton"
                Text="Check Age Signals"
                FontSize="18"
                FontAttributes="Bold"
                Clicked="OnCheckAgeClicked"
                HorizontalOptions="Fill"
                BackgroundColor="{DynamicResource Primary}"
                TextColor="White"
                HeightRequest="60"
                Margin="0,20,0,0" />

            <Label
                x:Name="ResultLabel"
                Text="Tap 'Check Age Signals' to verify age"
                FontSize="14"
                LineBreakMode="WordWrap"
                HorizontalTextAlignment="Center"
                Margin="0,10,0,0" />

            <Border
                Stroke="{DynamicResource Tertiary}"
                StrokeThickness="1"
                Padding="15"
                Margin="0,20,0,0"
                BackgroundColor="{DynamicResource CardBackground}">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="10" />
                </Border.StrokeShape>
                
                <VerticalStackLayout Spacing="10">
                    <Label
                        Text="ℹ️ Platform Requirements"
                        FontSize="16"
                        FontAttributes="Bold" />
                    
                    <Label
                        FontSize="12"
                        TextColor="{DynamicResource Gray600}">
                        <Label.FormattedText>
                            <FormattedString>
                                <Span Text="• " />
                                <Span Text="Android" FontAttributes="Bold" />
                                <Span Text=": Google Play Age Signals (requires Play Store, API 23+, applicable jurisdiction, live after Jan 1, 2026)" />
                                <Span Text="&#x0a;&#x0a;" />
                                <Span Text="• " />
                                <Span Text="iOS/macOS" FontAttributes="Bold" />
                                <Span Text=": Declared Age Range (iOS 18+/macOS 15+, physical device only, Swift wrapper required)" />
                                <Span Text="&#x0a;&#x0a;" />
                                <Span Text="• " />
                                <Span Text="Windows" FontAttributes="Bold" />
                                <Span Text=": Age Consent (Windows 11+, UserAccountInformation capability)" />
                            </FormattedString>
                        </Label.FormattedText>
                    </Label>
                </VerticalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
